<!DOCTYPE html>
<html>

<head>
  <script>
    
    // websocket端口
    var ws = new WebSocket('ws://' + window.document.location.host);

    // websocket监听消息
    ws.onmessage = function (message) {
      var msgDiv = document.createElement('div');
      msgDiv.innerHTML = message.data;
      document.getElementById('messages').appendChild(msgDiv);
    };

    // 发送消息
    function sendMessage() {
      var message = document.getElementById('msgBox').value;
      ws.send(message);
    }
  </script>
</head>

<body>
  Messages:
  <div id='messages'></div>

  <!-- 输入框输入内容 -->
  <input type='text' placeholder='Send a message' id='msgBox'>

  <!-- 按钮发送信息 -->
  <input type='button' onclick='sendMessage()' value='Send'>
</body>

</html>